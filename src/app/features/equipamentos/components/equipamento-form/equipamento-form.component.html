<app-cabecalho-pagina
  [titulo]="isEdicao ? 'Editar Equipamento' : 'Incluir Equipamento'"
/>

<div class="container">
  <mat-card class="form-card">
    <mat-card-content>
      <form [formGroup]="formulario" (ngSubmit)="salvar()" novalidate>
        <!-- Código do Equipamento -->
        <app-input
          label="Código do Equipamento"
          placeholder="Digite o código do equipamento"
          dica="Máximo 50 caracteres"
          [obrigatorio]="true"
          formControlName="codigo"
          iconeEsquerda="qr_code"
        />

        <!-- Categoria -->
        <app-select
          label="Categoria"
          placeholder="Selecione uma categoria"
          [obrigatorio]="true"
          [opcoes]="opcoesCategoria()"
          [carregando]="carregando()"
          textoCarregando="Carregando categorias..."
          formControlName="categoriaId"
          iconeEsquerda="category"
        />

        <!-- Localização -->
        <app-select
          label="Localização"
          placeholder="Selecione uma localização"
          [obrigatorio]="true"
          [opcoes]="opcoesLocalizacao()"
          [carregando]="carregando()"
          textoCarregando="Carregando localizações..."
          formControlName="codigoLocalizacao"
          iconeEsquerda="location_on"
        />

        <!-- Link do Diagrama -->
        <app-input
          label="Link do Diagrama"
          placeholder="Digite o link do diagrama (opcional)"
          dica="Máximo 500 caracteres"
          tipo="url"
          formControlName="linkDiagrama"
          iconeEsquerda="link"
        />

        <!-- Botões de Ação -->
        <div class="form-actions">
          <app-botao
            variante="secondary"
            tipo="button"
            icone="arrow_back"
            (clicado)="voltar()"
            [desabilitado]="salvando()"
          >
            Voltar
          </app-botao>

          <app-botao
            variante="primary"
            tipo="submit"
            icone="save"
            [carregando]="salvando()"
            [desabilitado]="formulario.invalid || carregando()"
          >
            {{ isEdicao ? "Atualizar" : "Salvar" }}
          </app-botao>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>

<form #formEquipamento="ngForm" [formGroup]="formulario">
  <app-cabecalho-pagina [titulo]="titulo"></app-cabecalho-pagina>

  <mat-card appearance="outlined" class="form-container">
    <mat-card-content class="form-content">
      <div class="form-row">
        <!-- Código do Equipamento -->
        <app-input
          class="form-field"
          label="Código"
          placeholder="Código do Equipamento"
          [obrigatorio]="true"
          formControlName="codigo"
          iconeEsquerda="qr_code"
          dica="Máximo 50 caracteres"
        />

        <!-- Categoria (Autocomplete simulado com Select) -->
        <mat-form-field class="form-field">
          <mat-label>Categoria</mat-label>
          <mat-select
            placeholder="Categoria"
            formControlName="categoria"
            [compareWith]="aoCompararOptionValue"
          >
            <mat-option
              *ngFor="let categoria of localizacoes"
              [value]="{ id: categoria.codigo, nome: categoria.nome }"
            >
              {{ categoria.nome }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="categoria?.hasError('required')"
            >Campo obrigatório</mat-error
          >
        </mat-form-field>

        <!-- Localização -->
        <mat-form-field class="form-field">
          <mat-label>Localização</mat-label>
          <mat-select
            placeholder="Localização do Equipamento"
            formControlName="codigoLocalizacao"
            [compareWith]="aoCompararOptionValue"
          >
            <mat-option
              *ngFor="let localizacao of localizacoes"
              [value]="{ id: localizacao.codigo, nome: localizacao.nome }"
            >
              {{ localizacao.nome }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="codigoLocalizacao?.hasError('required')"
            >Campo obrigatório</mat-error
          >
        </mat-form-field>
      </div>

      <div class="form-row">
        <!-- Link do Diagrama -->
        <app-input
          class="form-field-full"
          label="Link do Diagrama"
          placeholder="Link Sindotec: Diagrama do Equipamento"
          formControlName="linkDiagrama"
          iconeEsquerda="link"
          dica="Máximo 500 caracteres"
        />
      </div>

      <div class="form-actions">
        <div class="action-buttons-left">
          <button
            class="color-button-cancel"
            mat-raised-button
            (click)="aoCancelar(formEquipamento)"
          >
            Cancelar
          </button>
          <button
            type="reset"
            mat-raised-button
            color="accent"
            (click)="aoLimpar(formEquipamento)"
          >
            Limpar
          </button>
        </div>
        <div class="action-buttons-right">
          <button
            mat-raised-button
            color="primary"
            (click)="aoSalvar()"
            [disabled]="formulario.invalid"
          >
            {{ botaoSubmit }}
          </button>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</form>
